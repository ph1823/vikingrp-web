<!DOCTYPE html>
<html lang="fr">
    <head>
        <!-- FONTAWESOME -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

        <!-- FONTS -->
        <link rel="stylesheet" href="{{ asset('assets/fonts/fonts.css') }}">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/monolith.min.css"/>

        <link rel="stylesheet" href="{{ asset('assets/css/main.css') }}">

        <meta charset="UTF-8">
        <title>VikingRP - {% block title %}{% endblock %}</title>
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}
    </head>

    <header class="font-semibold flex justify-evenly items-center p-5" style="background-color:#0B0B0B ;font-size: 1.2em; border-bottom: 1px solid rgb(60, 60, 65); position: sticky; top: 0; z-index:10;color:#fff">
        <div class="flex items-center mx-4">
            <a href="{{ path('app_home') }}"><img class="w-24 mx-2" src="{{ asset('assets/img/logo_v.png')}}" alt="VikingRP"></a>
        </div>
        <div class="flex flex-wrap justify-center">
            <a class="mx-4 button_anim show-resp" href="http://wiki.viking-rp.fr/" target="_blank" data-aos="zoom-in-down">Wiki <i class="fa-solid fa-book"></i></a>
            <a class="mx-4 button_anim show-resp" href="https://docs.google.com/forms/d/103_Hx0nskww0CVxxVFsvzz_R3TIezevQ6pSUDS6-vfs" target="_blank" data-aos="zoom-in-down">Candidatures <i class="fa-solid fa-file"></i></a>
            <a style="color: rgba(255, 204, 0);" class="mx-4 button_anim show-resp" href="https://fr.tipeee.com/vikingroleplay" target="_blank" data-aos="zoom-in-down"><i class="fa-solid fa-handshake-angle"></i> Nous soutenir</a>
            <div class="flex items-center">
                <h1 class="text-2xl mx-1">{{ playerOnline }}</h1>
                <i style="color: #28CA43;" class="fa-solid fa-wifi fa-fade mx-2"></i>
            </div>
        </div>


        {% if app.user %}
            <div class="relative inline-block">
                <button type="button" class="dropdown inline-flex w-full justify-center gap-x-1.5 mx-4 px-5 py-2" id="menu-button-skin" role="toggle">
                    <img src="https://mineskin.eu/armor/bust/{{ app.user.username }}.png" alt="Tête du joueur {{ app.user.username }}" class="w-8 h-8 mx-1">
                    <h1 class="mx-1 show-resp">MON COMPTE</h1>
                </button>

                <div class="absolute right-0 z-10 mt-2 w-52 hidden bg-neutral-700 dropdown-content" role="content">
                    <div class="py-1">
                        <a href="{{ path('user_profile') }}" class="block">Mon profil</a>
                        {% if is_granted('ROLE_ADMIN')  %}<a href="{{ path('admin') }}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" style="color: orange">Administration <i class="fa-solid fa-gears"></i></a>{% endif %}
                        <a href="{{ path('app_logout') }}" style="color:red" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Déconnexion <i class="fa-solid fa-right-from-bracket"></i></a>
                    </div>
                </div>
            </div>

        {% else %}
            <div class="relative inline-block">
                <button type="button" class="dropdown inline-flex w-full justify-center gap-x-1.5 mx-4 px-5 py-2" id="menu-button-skin" role="toggle">
                    <img src="https://mineskin.eu/armor/bust/Steve.png" alt="Tête du joueur inconnu" class="w-8 h-8 mx-1">
                    <h1 class="mx-1 show-resp">INCONNU</h1>
                </button>

                <div class="absolute right-0 z-10 mt-2 w-52 hidden bg-neutral-700 dropdown-content" role="content">
                    <div class="py-1">
                        <a href="{{ path('app_register') }}" class="block">Inscription</a>
                        <a href="{{ path('app_login') }}" class="block">Connexion</a>
                    </div>
                </div>
            </div>
        {% endif %}
    </header>
    <body>
        <div class="bodyDiv">
        {% block body %}{% endblock %}
        </div>
    </body>

    <footer class="font-bold p-6" style="background-color: black">
        <hr>
        <div class="flex items-center" style="width: 50%; margin: auto; font-size: 1.2em">
            <div style="width: 40%;" class="text-3xl">
                <h1 style="color: #fff">Suivez-nous</h1>
            </div>
            <div style="width: 60%;" class="p-2 justify-evenly flex">
                <a href="https://www.youtube.com/@VikingRoleplay" style="background-color: #fff; height: 4vh; width: 4vh; border: 1px solid rgb(60, 60, 65);" class="flex justify-center rounded-full">
                    <i style="color:#02040F;" class="fa-brands fa-youtube rounded-full py-2 px-3"></i>
                </a>
                <a href="https://discord.gg/viking-rp-maintenance-535476824734564372" style="background-color: #fff; height: 4vh; width: 4vh; border: 1px solid rgb(60, 60, 65);" class="flex justify-center rounded-full">
                    <i style="color:#02040F;" class="fa-brands fa-discord rounded-full py-2 px-3"></i>
                </a>
                <a href="https://www.tiktok.com/@vikingroleplay" style="background-color: #fff; height: 4vh; width: 4vh; border: 1px solid rgb(60, 60, 65);" class="flex justify-center rounded-full">
                    <i style="color:#02040F;" class="fa-brands fa-tiktok rounded-full py-2 px-3"></i>
                </a>
                <!-- <a href="" style="background-color: #fff; height: 4vh; width: 4vh; border: 1px solid rgb(60, 60, 65);" class="flex justify-center rounded-full">
                    <i style="color:#02040F;" class="fa-solid fa-circle-user rounded-full py-2 px-3"></i>
                </a> !-->
                <a href="https://twitter.com/VikingRoleplay" style="background-color: #fff; height: 4vh; width: 4vh; border: 1px solid rgb(60, 60, 65);" class="flex justify-center rounded-full">
                    <i style="color:#02040F;" class="fa-brands fa-twitter rounded-full py-2 px-3"></i>
                </a>
            </div>
        </div>
        <hr />
        <div class="flex flex-col items-center p-4 justify-center" style="font-weight: 100;">
            <div class="mb-8">
                <img style="width: 200px; filter: hue-rotate(90deg);" src="{{ asset('assets/img/logo_v.png') }}" alt="vigingrp logo">
            </div>
            <div>
                <h1 style="color:rgb(60, 60, 65)">VikingRP n'est pas affilié à Mojang ou Microsoft. Minecraft est une marque déposée de Mojang Studios.</h1>
            </div>
        </div>
    </footer>
    <script defer>
        document.addEventListener('DOMContentLoaded', function() {
            // Get all elements with the 'dropdown' class
            const dropdowns = document.querySelectorAll('.dropdown');

            // Loop through each dropdown and add event listeners
            dropdowns.forEach(function(dropdown) {
                const dropdownButton = dropdown.querySelector('.dropdown-toggle');
                const dropdownMenu = dropdown.querySelector('.absolute');

                // Check if the elements exist before adding event listeners
                if (dropdownButton && dropdownMenu) {
                    dropdownButton.addEventListener('mouseover', function() {
                        console.log("test");
                        dropdownMenu.classList.toggle('hidden');
                    });

                    document.addEventListener('mouseleave', function(event) {
                        if (!dropdownMenu.contains(event.target) && !dropdownButton.contains(event.target)) {
                            dropdownMenu.classList.add('hidden');
                        }
                    });
                }
            });
        });
    </script>
</html>
